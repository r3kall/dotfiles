#  _   _                  _                 _ 
# | | | |                | |               | |
# | |_| |_   _ _ __  _ __| | __ _ _ __   __| |
# |  _  | | | | '_ \| '__| |/ _` | '_ \ / _` |
# | | | | |_| | |_) | |  | | (_| | | | | (_| |
# \_| |_/\__, | .__/|_|  |_|\__,_|_| |_|\__,_|
#         __/ | |                             
#        |___/|_|                             
# See https://wiki.hypr.land/Configuring/

### ENVIRONMENT VARIABLES  ################################
env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland
env = QT_QPA_PLATFORM,wayland
env = QT_QPA_PLATFORMTHEME,qt6ct
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,1

### VARIABLES  ############################################
$config = $HOME/.config/hypr

### AUTOSTART  ############################################
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user start hyprpolkitagent.service
exec-once = systemctl --user start --no-block swaync.service
exec-once = systemctl --user start --no-block waybar.service
exec-once = systemctl --user start --no-block pipewire.service
exec-once = systemctl --user start --no-block pipewire-pulse.service
exec-once = hypridle
# exec-once = swaync-client -R -rs
exec-once = hyprsunset
#exec-once = wl-paste --type text --watch cliphist store
#exec-once = wl-paste --type image --watch cliphist store
#exec-once = cliphist wipe

### KEYBINDINGS  ##########################################
source = $config/keybindings.conf 

### HARDWARE  #############################################
monitor=,preferred,auto,1

input {
    kb_layout = it

    follow_mouse = 1
	numlock_by_default = false
    accel_profile = adaptive
    sensitivity = 0.0

    touchpad {
		natural_scroll = yes
    }
}

gestures {
	workspace_swipe = off
}

### LOOK  #################################################
source = $config/colors.conf

general {
    gaps_in = 3
    gaps_out = 3
    border_size = 3
    col.active_border = $primary
    col.inactive_border = $secondary
    allow_tearing = true
    resize_on_border = false
    layout = dwindle
}

decoration {
    rounding = 10
	blur {
		size = 10
		passes = 2
		ignore_opacity = true
		new_optimizations = true
    }
}

animations {
    enabled = false

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

dwindle {
	pseudotile = true
	preserve_split = true
}

master {
    new_status = master
}

misc {
    mouse_move_enables_dpms = true
    enable_swallow = true
    swallow_regex = ^($term)$
	focus_on_activate = true
	disable_hyprland_logo = true
	force_default_wallpaper = 0
}

# experimental {
# 	hdr = true
# }

### LAYER RULES  ##########################################
layerrule = ignorezero, waybar
layerrule = ignorezero, rofi
layerrule = ignorezero, swaync-control-center
layerrule = ignorezero, swaync-notification-window
layerrule = blur, waybar
layerrule = blurpopups, waybar
layerrule = blur, wofi
layerrule = blur, swaync-notification-window
layerrule = blur, swaync-control-center

### WINDOW RULES  #########################################
# Adapt the exact class names you see via hyprctl clients -j
## workspaces
windowrulev2 = workspace 1, class:(kitty)$
windowrulev2 = workspace 1, class:(foot)$
windowrulev2 = workspace 2, class:(firefox)$
windowrulev2 = workspace 2, class:(chromium)$
windowrulev2 = workspace 3, class:(thunar)$
windowrulev2 = workspace 3, title:^(yazi)$
windowrulev2 = workspace 4, class:(mpv)$
windowrulev2 = workspace 4, class:(ncmpcpp)$
windowrulev2 = workspace 4, class:(cava)$
windowrulev2 = workspace 5, class:(org.telegram.desktop)$
windowrulev2 = workspace 6, class:(org.pwmt.zathura)$
windowrulev2 = workspace 7, class:(nvim)$
windowrulev2 = workspace 8, class:(org.qbittorrent.qBittorrent)$
## floating windows
windowrulev2 = float, class:(pavucontrol)$
windowrulev2 = float, class:(hyprplokitagent)$
windowrulev2 = float, title:(Picture-in-Picture)$
windowrulev2 = float, title:(Select Document)$
windowrulev2 = float, class:(ncmpcpp)$
windowrulev2 = float, class:(cava)$
windowrulev2 = float, title:(File Operation Progress)$
windowrulev2 = float, title:(Preferences)$
windowrulev2 = float, title:(Confirm to replace files)$
## size
windowrulev2 = size 600 600, class:(ncmpcpp)$
windowrulev2 = size 600 600, class:(cava)$
#foot ?
#windowrulev2 = size 1000 700, class:(newsboat)$
#windowrulev2 = size 650 400, class:(Alacritty)$
## position
windowrulev2 = move 15 81, class:(ncmpcpp)$
windowrulev2 = move 751 81, class:(cava)$
## sleep inhinition
windowrulev2 = idleinhibit focus, class:(mpv)$
windowrulev2 = idleinhibit fullscreen, class:(brave-browser)$
windowrulev2 = idleinhibit fullscreen, class:(zen)$
windowrulev2 = idleinhibit fullscreen, class:(org.pwmt.zathura)$
## xwayland
windowrulev2 = opacity 0.0 override 0.0 override, class:(xwaylandvideobridge)$
windowrulev2 = noanim, class:(xwaylandvideobridge)$
windowrulev2 = nofocus, class:(xwaylandvideobridge)$
windowrulev2 = noinitialfocus, class:(xwaylandvideobridge)$
## games
windowrulev2 = immediate, class:(cs2)$
windowrulev2 = immediate, class:(steam_app_1245620)$
windowrulev2 = immediate, class:^(Minecraft.* 1\.20\.4)$
